
# Set your current work directory that contains this code
setwd("/Users/zy/Desktop/SurvivalAnalysis/RPEXE_YZ_version/RPEXE\ Version\ 2.0_yz/Examples")

# include the R functions from the command line
#source("../R version/")

# include R functions 
pathnames <- list.files(pattern="[.]R$", path="../R version", full.names=TRUE);
sapply(pathnames, FUN=source);

# load the data 
data_ex1 <- read.table("data.ex1.txt", header=F)
oscensor <- data_ex1[,1]
ostime   <- data_ex1[,2]

# Run RPEXE with decreasing failure rate
pexeout1 <- RPEXEv1(EventTime="EventTime",ostime,Censor="Censor",oscensor,Trend="Decreasing",trend=1)
pexeout1 
#	$times
#	[1]  1.8932 23.4603 47.8548 12.7096 24.7096  0.0849  2.3863 18.5945 28.0301
#	$pvalues
#	[1] 9.782674e-01 9.608166e-01 7.538902e-01 7.045443e-01 6.876717e-01 6.010137e-01 3.059760e-01
#	[8] 8.523530e-02 9.099848e-07
#	$trend
#	[1] "Decreasing falilure rate"
#	$struct
#	NULL
#	$changet
#	NULL


# Run RPEXE with monotonic failure rate
pexeout2 <- RPEXEv1(EventTime="EventTime",ostime,Censor="Censor",oscensor,Trend="monotonic",trend=3)
pexeout2 
#	$times
#	[1]  1.8932 23.4603 47.8548 12.7096 24.7096  0.0849  2.3863 18.5945 28.0301
#	$pvalues
#	[1] 9.782674e-01 9.608166e-01 7.538902e-01 7.045443e-01 6.876717e-01 6.010137e-01 3.059760e-01
#	[8] 8.523530e-02 9.099848e-07
#	$trend
#	[1] "Monotone failure rate"
#	$struct
#	$struct[[1]]
#	$struct[[1]][[1]]
#	 [1]  0.0849  1.8932  2.3863 12.7096 18.5945 23.4603 24.7096 28.0301 47.8548 51.0767  0.6438 51.0767
#	$struct[[1]][[2]]
#	 [1]   15.0794  302.0514   73.3403 1090.6864  345.0394  199.2019   41.2268   99.7137  369.8969
#	[10]   82.4547  112.9527 2505.7382
#	$struct[[1]][[3]]
#	 [1]   2  25   6  76  22  10   2   4   6   1   5 149
#	$struct[[1]][[4]]
#	          [,1]      [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13] [,14] [,15]
#	[1,] -543.9703 -559.4657    0    0    0    0    0    0    0     0     0     0     0     0     0
#	     [,16] [,17] [,18] [,19] [,20] [,21] [,22] [,23] [,24] [,25] [,26] [,27] [,28] [,29] [,30] [,31]
#	[1,]     0     0     0     0     0     0     0     0     0     0     0     0     0     0     0     0
#	     [,32] [,33] [,34] [,35] [,36] [,37] [,38] [,39] [,40] [,41] [,42] [,43] [,44] [,45] [,46] [,47]
#	[1,]     0     0     0     0     0     0     0     0     0     0     0     0     0     0     0     0
#	     [,48] [,49] [,50] [,51] [,52] [,53] [,54] [,55] [,56] [,57] [,58] [,59] [,60] [,61] [,62] [,63]
#	[1,]     0     0     0     0     0     0     0     0     0     0     0     0     0     0     0     0
#	     [,64] [,65] [,66] [,67] [,68] [,69] [,70] [,71] [,72] [,73] [,74] [,75] [,76] [,77] [,78] [,79]
#	[1,]     0     0     0     0     0     0     0     0     0     0     0     0     0     0     0     0
#	     [,80] [,81] [,82] [,83] [,84] [,85] [,86] [,87] [,88] [,89] [,90] [,91] [,92] [,93] [,94] [,95]
#	[1,]     0     0     0     0     0     0     0     0     0     0     0     0     0     0     0     0
#	     [,96] [,97] [,98] [,99] [,100] [,101] [,102] [,103] [,104] [,105] [,106] [,107] [,108] [,109]
#	[1,]     0     0     0     0      0      0      0      0      0      0      0      0      0      0
#	     [,110] [,111] [,112] [,113] [,114] [,115] [,116] [,117] [,118] [,119] [,120] [,121] [,122]
#	[1,]      0      0      0      0      0      0      0      0      0      0      0      0      0
#	     [,123] [,124] [,125] [,126] [,127] [,128] [,129] [,130] [,131] [,132] [,133] [,134] [,135]
#	[1,]      0      0      0      0      0      0      0      0      0      0      0      0      0
#	     [,136] [,137] [,138] [,139]
#	[1,]      0      0      0      0
#	$changet
#	NULL

